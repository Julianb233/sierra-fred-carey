# ============================================================================
# Sahara Environment Variables
# ============================================================================
# Copy this file to .env.local and fill in the values.
# All credential values must be left EMPTY in this template.
# NEVER commit .env.local or any file containing real secrets.
#
# Legend:
#   [REQUIRED]  -- App will not start without this
#   [OPTIONAL]  -- Feature-specific; uncomment and fill in to enable

# ======================
# AUTHENTICATION SECRETS [REQUIRED]
# ======================
# Generate each with: openssl rand -base64 32
JWT_SECRET=
ADMIN_SECRET_KEY=
CRON_SECRET=

# ======================
# SUPABASE [REQUIRED]
# ======================
# Get all three from: https://supabase.com/dashboard -> Project Settings -> API
# NEXT_PUBLIC_SUPABASE_URL is the "Project URL"
# NEXT_PUBLIC_SUPABASE_ANON_KEY is the "anon / public" key
# SUPABASE_SERVICE_ROLE_KEY is the "service_role" key (keep server-side only)
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# ======================
# DATABASE [REQUIRED for migrations/scripts]
# ======================
# Direct Postgres connection string (Neon or Supabase pooler).
# Format: postgresql://user:password@host:5432/dbname?sslmode=require
# From Neon Dashboard -> Connection Details (or Supabase -> Settings -> Database)
DATABASE_URL=

# ======================
# STRIPE [REQUIRED for payments]
# ======================
# Get secret + publishable keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=

# Get webhook secret from: https://dashboard.stripe.com/webhooks
# Create a webhook endpoint pointing to <your-url>/api/stripe/webhook
STRIPE_WEBHOOK_SECRET=

# Price IDs -- create products in Stripe Dashboard -> Products -> Add pricing
# Then copy the price_xxx ID for each product
NEXT_PUBLIC_STRIPE_FUNDRAISING_PRICE_ID=
NEXT_PUBLIC_STRIPE_VENTURE_STUDIO_PRICE_ID=

# ======================
# AI PROVIDERS [at least one REQUIRED]
# ======================
# The system tries providers in order: OpenAI -> Anthropic -> Google.
# You need at least one valid key for FRED features to work.

# OpenAI -- https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Anthropic -- https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=

# Google Gemini -- https://aistudio.google.com/apikey
GOOGLE_API_KEY=

# ======================
# APP CONFIGURATION
# ======================
# Base URL of the app (no trailing slash).
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development

# ======================
# LIVEKIT [REQUIRED for voice/video features]
# ======================
# Get from: https://cloud.livekit.io -> Project Settings
# Or pull from Vercel: vercel env pull .env.local
#
# Required for both Next.js app AND the voice agent worker:
#   Terminal 1: npm run dev           (Next.js)
#   Terminal 2: npm run worker:voice  (Voice agent - connects to LiveKit)
LIVEKIT_API_KEY=
LIVEKIT_API_SECRET=
LIVEKIT_URL=wss://your-project.livekit.cloud
NEXT_PUBLIC_LIVEKIT_URL=wss://your-project.livekit.cloud

# ======================
# RECORDING STORAGE [OPTIONAL -- call recordings]
# ======================
# S3-compatible storage for voice call recordings via LiveKit Egress.
# If using Supabase Storage: create S3 access keys in Dashboard -> Settings -> Storage -> S3 Access Keys
# Create a bucket named "voice-recordings" in Supabase Storage.
# Endpoint format: https://<project-ref>.supabase.co/storage/v1/s3
# RECORDING_S3_BUCKET=voice-recordings
# RECORDING_S3_REGION=us-east-1
# RECORDING_S3_ENDPOINT=
# RECORDING_S3_ACCESS_KEY=
# RECORDING_S3_SECRET=

# ======================
# TWILIO [OPTIONAL -- SMS check-ins]
# ======================
# Get from: https://console.twilio.com
# Account SID and Auth Token are on the dashboard home page.
# Messaging Service SID: create under Messaging -> Services.
# Uncomment and fill in to enable SMS features.
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
# TWILIO_MESSAGING_SERVICE_SID=

# ======================
# RESEND [OPTIONAL -- email notifications]
# ======================
# Get API key from: https://resend.com/api-keys
# FROM_EMAIL must be a verified sender domain in Resend.
# Uncomment and fill in to enable email notifications.
# RESEND_API_KEY=
# RESEND_FROM_EMAIL=
# RESEND_FROM_NAME=

# ======================
# EXTERNAL INTEGRATIONS [OPTIONAL]
# ======================
# Slack -- create an Incoming Webhook: https://api.slack.com/messaging/webhooks
# SLACK_WEBHOOK_URL=
# Boardy -- contact Boardy for API access (uses AI mock client when absent)
# BOARDY_API_KEY=

# ======================
# A/B TESTING AUTO-PROMOTION [OPTIONAL]
# ======================
# Controls the automated experiment promotion system.
# All have sensible in-code defaults -- only uncomment to override.
# AUTO_PROMOTION_ENABLED=false
# AUTO_PROMOTION_DRY_RUN=false
# AUTO_PROMOTION_REQUIRE_MANUAL=false
# Generate with: openssl rand -base64 32
# AUTO_PROMOTION_CRON_SECRET=
# Tuning: defaults are 1000 samples, 95% confidence, 5% min improvement,
#   48h min runtime, 0.05 max error rate, archive losers, send notifications.
# AUTO_PROMOTION_MIN_SAMPLE_SIZE=1000
# AUTO_PROMOTION_MIN_CONFIDENCE=95
# AUTO_PROMOTION_MIN_IMPROVEMENT=5
# AUTO_PROMOTION_MIN_RUNTIME_HOURS=48
# AUTO_PROMOTION_MAX_ERROR_RATE=0.05
# AUTO_PROMOTION_ARCHIVE_LOSERS=true
# AUTO_PROMOTION_SEND_NOTIFICATIONS=true
# AUTO_PROMOTION_NOTIFICATION_USER_ID=
# AUTO_PROMOTION_EXCLUDED=
# AUTO_NOTIFY_ALERTS=true
# JSON override for promotion rules (advanced)
# AB_PROMOTION_RULES=

# ======================
# SENTRY [OPTIONAL -- error tracking]
# ======================
# Get DSN from: https://sentry.io -> Project Settings -> Client Keys (DSN)
# Org and project slugs are in the Sentry dashboard URL.
# NEXT_PUBLIC_SENTRY_DSN=
# SENTRY_ORG=
# SENTRY_PROJECT=
# SENTRY_AUTH_TOKEN=

# ======================
# FRED DEBUG [OPTIONAL -- development only]
# ======================
# Set to "true" to enable verbose FRED logging
# FRED_DEBUG=false
# Set to "true" to enable FRED metrics debug output
# FRED_DEBUG_METRICS=false

# ======================
# WEB PUSH [OPTIONAL -- browser push notifications]
# ======================
# Generate VAPID keys with: npx web-push generate-vapid-keys
# NEXT_PUBLIC_VAPID_PUBLIC_KEY=
# VAPID_PRIVATE_KEY=
# VAPID_SUBJECT=mailto:support@sahara.ai

# ======================
# POSTHOG ANALYTICS [OPTIONAL -- product analytics]
# ======================
# Get from: https://app.posthog.com -> Project Settings -> Project API Key
# NEXT_PUBLIC_POSTHOG_KEY=
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com
# POSTHOG_API_KEY=

# ======================
# UPSTASH REDIS [REQUIRED for production rate limiting]
# ======================
# Falls back to in-memory rate limiting in development.
# Get from: https://console.upstash.com -> Redis -> REST API
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ======================
# FEATURE FLAGS
# ======================
COMMUNITIES_ENABLED=true
