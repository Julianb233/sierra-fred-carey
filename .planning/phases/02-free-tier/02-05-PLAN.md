# Plan 02-05: Onboarding Flow with FRED Introduction

**Status:** COMPLETED
**Phase:** 02 - Free Tier Features
**Depends On:** 02-02 (FRED Chat Interface)
**Estimated Complexity:** Medium

---

## Objective

Create an engaging onboarding flow that:
1. Introduces new users to FRED's capabilities
2. Collects basic startup information
3. Runs initial Reality Lens assessment
4. Sets up user context for personalized interactions
5. Demonstrates FRED's value immediately

---

## Current State Analysis

**Existing:**
- `components/dashboard/WelcomeModal.tsx` - Basic welcome modal
- Auth flow with Supabase
- FRED chat and Reality Lens APIs

**Missing:**
- Multi-step onboarding wizard
- Startup profile collection
- Initial FRED conversation
- Context storage for personalization

---

## Implementation Steps

### Step 1: Create Onboarding State Management

**File:** `lib/hooks/use-onboarding.ts`

```typescript
// Track onboarding progress
// Steps: welcome, startup-info, fred-intro, reality-lens, complete
// Persist progress in database
```

**File:** `lib/db/onboarding.ts`

```typescript
// Database operations for onboarding state
// Store completion status, startup profile
```

### Step 2: Create Onboarding Page

**File:** `app/onboarding/page.tsx`

Layout:
- Progress indicator at top
- Step content in center
- Navigation (back/next/skip)
- FRED avatar presence throughout

### Step 3: Create Onboarding Steps

**File:** `components/onboarding/welcome-step.tsx`

- Introduce Fred Cary (background, experience)
- Preview of capabilities
- Set expectations

**File:** `components/onboarding/startup-info-step.tsx`

Collect:
- Startup name
- Stage (idea/mvp/launched/scaling)
- Industry
- Brief description
- Key challenge/goal

**File:** `components/onboarding/fred-intro-step.tsx`

- Embedded mini-chat with FRED
- FRED asks clarifying questions
- Demonstrates conversation capability
- Stores context in semantic memory

**File:** `components/onboarding/reality-lens-step.tsx`

- Optional quick Reality Lens on their idea
- Shows sample output
- Builds confidence in FRED's analysis

**File:** `components/onboarding/complete-step.tsx`

- Summary of collected information
- Quick links to key features
- Celebration animation

### Step 4: Create Onboarding Progress Tracker

**File:** `components/onboarding/progress-indicator.tsx`

- Visual step indicator
- Shows current position
- Estimated time remaining

### Step 5: Add Onboarding Check to Auth Flow

**File:** `app/dashboard/page.tsx` (update)

```typescript
// Check if onboarding complete
// If not, redirect to /onboarding
// Store flag in user metadata
```

### Step 6: Create Skip/Resume Logic

- Allow users to skip steps
- Track partial completion
- Resume from last position on return

---

## User Flow

```
Sign Up → Welcome Step → Startup Info → Chat with FRED → Reality Lens (optional) → Dashboard
                                              ↓
                              Store in semantic memory
```

---

## Testing

- [x] New users redirected to onboarding
- [x] Progress saves between sessions
- [x] Startup info stored correctly
- [x] FRED chat works in onboarding context
- [x] Skip functionality works
- [x] Completion redirects to dashboard

---

## Verification

- [x] Onboarding accessible at /onboarding
- [x] All steps render correctly
- [x] Progress indicator accurate
- [x] Data persisted to localStorage
- [x] Good mobile experience

---

## Implementation Summary

**Files Created:**
- `lib/hooks/use-onboarding.ts` - Onboarding state management with localStorage persistence
- `components/onboarding/progress-indicator.tsx` - Step progress and progress bar
- `components/onboarding/welcome-step.tsx` - Welcome with FRED introduction
- `components/onboarding/startup-info-step.tsx` - Multi-part startup info collection
- `components/onboarding/fred-intro-step.tsx` - Interactive chat with FRED
- `components/onboarding/complete-step.tsx` - Completion with confetti and quick links
- `app/onboarding/page.tsx` - Main onboarding page

**Features:**
- 4-step wizard (Welcome, Startup Info, FRED Intro, Complete)
- Progress saved to localStorage
- Interactive chat with FRED API
- Confetti celebration on completion
- Quick links to dashboard features
- Skip option at any point
- Mobile responsive

---

*Plan completed: 2026-02-05*
