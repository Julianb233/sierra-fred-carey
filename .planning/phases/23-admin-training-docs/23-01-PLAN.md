---
phase: 23-admin-training-docs
plan: 01
type: execute
wave: 3
depends_on:
  - 13-voice-core-ai-engines
  - 14-voice-agents-channels
  - 15-voice-helpers-activation
files_modified:
  - app/admin/training/layout.tsx
  - app/admin/training/page.tsx
  - app/admin/training/communication/page.tsx
  - app/admin/training/frameworks/page.tsx
  - app/admin/training/agents/page.tsx
  - app/admin/training/identity/page.tsx
  - app/admin/layout.tsx
autonomous: true

must_haves:
  truths:
    - "Admin training route at /admin/training is accessible only to admin users"
    - "Training layout provides sidebar navigation between 5 content sections"
    - "Overview page summarizes what FRED is and links to each section"
    - "Communication page documents Fred's voice rules, tone, and do/don't guidelines"
    - "Frameworks page covers 9-Step Startup Process, Positioning, Investor Lens, and Reality Lens"
    - "Agents page documents each agent's behavior, tools, and example responses"
    - "Identity page shows Fred's bio, companies, philosophy, and media presence"
    - "Admin layout includes a Training nav link in the sidebar"
  artifacts:
    - path: "app/admin/training/layout.tsx"
      provides: "Sidebar layout for training docs section with navigation"
    - path: "app/admin/training/page.tsx"
      provides: "Training overview page with section links"
    - path: "app/admin/training/communication/page.tsx"
      provides: "Fred's Communication Style documentation"
    - path: "app/admin/training/frameworks/page.tsx"
      provides: "Framework Reference documentation (9-Step, Positioning, IRS, Reality Lens)"
    - path: "app/admin/training/agents/page.tsx"
      provides: "Agent Behavior documentation with examples"
    - path: "app/admin/training/identity/page.tsx"
      provides: "FRED Identity & Background documentation"
    - path: "app/admin/layout.tsx"
      provides: "Updated admin layout with Training nav link"
      contains: "training"
  key_links:
    - from: "app/admin/training/layout.tsx"
      to: "app/admin/training/page.tsx"
      via: "layout wraps all training subpages"
      pattern: "children"
    - from: "app/admin/training/communication/page.tsx"
      to: "lib/fred-brain.ts"
      via: "references FRED_COMMUNICATION_STYLE for accuracy"
      pattern: "FRED_COMMUNICATION_STYLE"
    - from: "app/admin/training/identity/page.tsx"
      to: "lib/fred-brain.ts"
      via: "references FRED_BIO, FRED_COMPANIES, FRED_MEDIA for accuracy"
      pattern: "FRED_BIO"
    - from: "app/admin/layout.tsx"
      to: "app/admin/training/page.tsx"
      via: "nav link to /admin/training"
      pattern: "/admin/training"
---

<objective>
Create an admin-only training documentation section that documents how FRED communicates, what frameworks it uses, how each agent behaves, and Fred Cary's identity and background.

Purpose: As FRED's voice has been unified across all AI interaction points (Phases 13-15), admins need an in-app reference to understand and maintain the voice rules. This section serves as a living style guide -- documenting communication style, frameworks, agent behaviors, and identity so that future changes to Fred's voice remain consistent. Content is sourced from fred-brain.ts to ensure documentation matches implementation.

Output: 6 new files (layout + 5 pages), 1 modified file (admin layout). No new npm dependencies. No database changes.
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md

Key source files (READ ALL BEFORE MODIFYING):
@lib/fred-brain.ts (authoritative source for all Fred voice data)
@app/admin/layout.tsx (admin layout -- add Training nav link)
@app/admin/page.tsx (admin overview -- for reference on styling)
@lib/agents/founder-ops/prompts.ts (agent prompt for documentation)
@lib/agents/fundraising/prompts.ts (agent prompt for documentation)
@lib/agents/growth/prompts.ts (agent prompt for documentation)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Route, layout, and overview page</name>
  <files>
    app/admin/training/layout.tsx
    app/admin/training/page.tsx
    app/admin/layout.tsx
  </files>
  <action>
**Step 1: Create `app/admin/training/layout.tsx`**

Server component layout with sidebar navigation:
- Sidebar (left panel, 240px wide on desktop, collapsible on mobile):
  - "Training Docs" title at top
  - Nav links with active state highlighting:
    1. "Overview" -> /admin/training
    2. "Communication Style" -> /admin/training/communication
    3. "Frameworks" -> /admin/training/frameworks
    4. "Agent Behavior" -> /admin/training/agents
    5. "Identity & Background" -> /admin/training/identity
  - Active link: orange text + left border accent
  - Use `usePathname()` from next/navigation for active detection (make it a client component if needed, or use a client nav component)
- Content area (right panel, flex-1):
  - Render `{children}` with consistent padding and max-width
  - Typography: prose-like styling for readability
- Responsive: sidebar collapses to top nav on mobile

**Step 2: Create `app/admin/training/page.tsx`**

Overview page content:
- Title: "FRED Training Documentation"
- Introduction paragraph: "This section documents how FRED -- the AI engine powering Sahara -- communicates, what frameworks it uses, and how it behaves across different interaction points. Use this as a reference when reviewing or modifying FRED's behavior."
- Section cards (2x2 grid on desktop, stacked on mobile):
  1. **Communication Style**: "How Fred speaks -- tone, language rules, do's and don'ts" -> Link to /admin/training/communication
  2. **Frameworks**: "The analytical frameworks FRED applies -- 9-Step Process, Positioning, Investor Lens, Reality Lens" -> Link to /admin/training/frameworks
  3. **Agent Behavior**: "How each virtual agent (Founder Ops, Fundraising, Growth) responds to tasks" -> Link to /admin/training/agents
  4. **Identity & Background**: "Fred Cary's biography, companies, philosophy, and media presence" -> Link to /admin/training/identity
- Each card with icon, title, description, and arrow indicator
- Note at bottom: "All voice data is sourced from lib/fred-brain.ts. Changes to that file will be reflected in FRED's actual behavior."

**Step 3: Update `app/admin/layout.tsx`**

Add a "Training" nav link to the existing admin sidebar navigation. Place it after the existing nav items. Link to `/admin/training`. Use a book or graduation cap icon consistent with the admin nav style.

IMPORTANT: Read the existing admin layout first to match its navigation pattern. Do NOT restructure the layout -- only ADD the new nav item.
  </action>
  <verify>
1. `test -f app/admin/training/layout.tsx` -- layout exists
2. `test -f app/admin/training/page.tsx` -- overview page exists
3. `grep 'training' app/admin/layout.tsx` -- nav link added
4. `grep 'Communication\|Frameworks\|Agent\|Identity' app/admin/training/page.tsx` -- all sections linked
5. `npx tsc --noEmit` passes with no errors
  </verify>
  <done>
Training layout provides sidebar navigation with 5 sections. Overview page introduces the documentation and links to each section with card grid. Admin layout includes Training nav link.
  </done>
</task>

<task type="auto">
  <name>Task 2: Four content pages</name>
  <files>
    app/admin/training/communication/page.tsx
    app/admin/training/frameworks/page.tsx
    app/admin/training/agents/page.tsx
    app/admin/training/identity/page.tsx
  </files>
  <action>
**Step 1: Create `app/admin/training/communication/page.tsx`**

Fred's Communication Style guide. Import relevant data from `@/lib/fred-brain` to ensure accuracy.

Content sections:
1. **Voice & Tone**: Import `FRED_COMMUNICATION_STYLE.voice` -- display primary voice style and tone description
2. **Characteristics**: Import `FRED_COMMUNICATION_STYLE.characteristics` -- bulleted list of communication traits
3. **What Fred Never Does**: Import `FRED_COMMUNICATION_STYLE.doNot` -- bulleted list of anti-patterns
4. **Examples**: Show before/after pairs:
   - Generic: "Based on the analysis, I recommend..." -> Fred: "Here's my take, based on what I've seen..."
   - Generic: "This is a balanced decision that requires further evaluation" -> Fred: "This one's a toss-up. I've seen similar decisions go both ways."
   - Generic: "I'd advise caution here" -> Fred: "I'm going to be honest with you -- I have concerns here."
5. **Implementation Notes**: Explain that voice is applied via `buildFredVoicePreamble()` in voice.ts and `FRED_AGENT_VOICE` in fred-agent-voice.ts

Use a "use client" component so it can import from fred-brain.ts at runtime, or import the data server-side and render statically. Display imported values in styled code blocks or highlighted boxes so admins can see the exact strings being used.

**Step 2: Create `app/admin/training/frameworks/page.tsx`**

Framework Reference covering all analytical frameworks. Import `FRED_BIO` and relevant exports from fred-brain.ts.

Content sections:
1. **9-Step Startup Process**: List all 9 steps with descriptions (reference the coaching prompts structure). Steps: Idea Validation, Market Research, Business Model, MVP/Prototype, Customer Acquisition, Funding Strategy, Team Building, Growth & Scaling, Exit Strategy.
2. **Positioning Framework**: Describe the 5-factor positioning analysis (market position, competitive advantage, value proposition, target audience, differentiation)
3. **Investor Lens**: Describe the 6-category Investor Readiness Score (Team, Market, Product, Traction, Financials, Strategy) with weight percentages
4. **Reality Lens**: Describe the 5-dimension honest assessment framework
5. **Scoring Philosophy**: Fred's approach -- "most ideas should cluster around 40-60", "Reserve scores above 80 for truly exceptional factors"

Each framework in a bordered section with clear headings and structured content.

**Step 3: Create `app/admin/training/agents/page.tsx`**

Agent Behavior documentation. Reference the agent prompts and tool descriptions.

Content sections:
1. **Founder Ops Agent**: Purpose (operational execution), tools (draftEmail, createTask, scheduleMeeting, weeklyPriorities), example prompt -> response pairs, operating principles from the system prompt
2. **Fundraising Agent**: Purpose (fundraising strategy), tools (investorResearch, outreachDraft, pipelineAnalysis, meetingPrep), example interactions, operating principles
3. **Growth Agent**: Purpose (growth strategy), tools (channelAnalysis, experimentDesign, funnelAnalysis, contentStrategy), example interactions, operating principles
4. **Common Behavior**: All agents use `FRED_AGENT_VOICE` preamble, structured output via `generateStructuredReliable()`, domain-specific system prompts layered on top of Fred's voice

Display agent names, their tool counts, and key behavioral traits in a comparison table.

**Step 4: Create `app/admin/training/identity/page.tsx`**

FRED Identity & Background page. Import from fred-brain.ts for accuracy.

Content sections:
1. **Biography**: Import `FRED_BIO` -- display years of experience, companies founded, IPOs, acquisitions, founders coached
2. **Companies**: Import `FRED_COMPANIES` -- list current and past companies with descriptions and metrics
3. **Philosophy**: Import Fred's 6 philosophy principles (grit, resilience, learning from failure, etc.)
4. **Media & Testimonials**: Import `FRED_MEDIA` -- list media appearances (podcast, books, etc.). Import `FRED_TESTIMONIALS` -- display founder testimonials
5. **Key Quotes**: Import `FRED_QUOTES` or relevant quote exports -- display Fred's signature quotes

Each section with appropriate formatting -- bio in a hero card, companies in a grid, philosophy as numbered principles, media as a list with links.

IMPORTANT for all 4 pages: Content must accurately reflect what is in fred-brain.ts. Import the actual data rather than hardcoding strings. This ensures the documentation stays in sync with the implementation.
  </action>
  <verify>
1. `test -f app/admin/training/communication/page.tsx` -- communication page exists
2. `test -f app/admin/training/frameworks/page.tsx` -- frameworks page exists
3. `test -f app/admin/training/agents/page.tsx` -- agents page exists
4. `test -f app/admin/training/identity/page.tsx` -- identity page exists
5. `grep 'FRED_COMMUNICATION_STYLE\|fred-brain' app/admin/training/communication/page.tsx` -- imports from source
6. `grep 'FRED_BIO\|FRED_COMPANIES\|fred-brain' app/admin/training/identity/page.tsx` -- imports from source
7. `npx tsc --noEmit` passes with no errors
  </verify>
  <done>
Communication page documents voice rules with before/after examples, importing actual data from fred-brain.ts. Frameworks page covers all 4 analytical frameworks with scoring philosophy. Agents page documents all 3 agents with tools, principles, and example interactions. Identity page shows bio, companies, philosophy, media, and quotes imported from fred-brain.ts.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. **All pages exist:**
   ```bash
   ls app/admin/training/
   # Should show: layout.tsx, page.tsx, communication/, frameworks/, agents/, identity/
   ```

2. **Admin nav updated:**
   ```bash
   grep 'training' app/admin/layout.tsx
   ```

3. **Content imports fred-brain.ts:**
   ```bash
   grep -l 'fred-brain' app/admin/training/communication/page.tsx app/admin/training/identity/page.tsx
   ```

4. **All section pages exist:**
   ```bash
   test -f app/admin/training/communication/page.tsx && \
   test -f app/admin/training/frameworks/page.tsx && \
   test -f app/admin/training/agents/page.tsx && \
   test -f app/admin/training/identity/page.tsx && \
   echo "ALL EXIST"
   ```

5. **TypeScript compiles:**
   ```bash
   npx tsc --noEmit
   ```
</verification>

<success_criteria>
- Admin training route at /admin/training accessible with sidebar navigation
- Overview page links to all 4 content sections with descriptive cards
- Communication page documents voice, characteristics, anti-patterns, and before/after examples
- Frameworks page covers 9-Step Process, Positioning, Investor Lens, and Reality Lens with scoring philosophy
- Agents page documents all 3 agents with tools, principles, and examples in a comparison format
- Identity page shows bio, companies, philosophy, media, and quotes from fred-brain.ts
- Admin layout includes Training nav link
- Content imports from fred-brain.ts to ensure documentation matches implementation
- No new npm dependencies or database changes
- TypeScript compiles with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/23-admin-training-docs/23-01-SUMMARY.md`
</output>
