# Plan 03-03: Pitch Deck Review

**Status:** COMPLETED
**Phase:** 03 - Pro Tier Features
**Depends On:** 03-01 (PDF Pipeline)
**Estimated Complexity:** High

---

## Objective

Build a pitch deck review system that:
1. Analyzes pitch decks slide-by-slide
2. Identifies missing sections
3. Provides specific feedback per slide type
4. Compares to successful pitch patterns
5. Generates an overall deck score

---

## Current State Analysis

**Existing:**
- PDF processing pipeline (03-01)
- FRED cognitive framework
- Document storage

**Missing:**
- Slide detection and classification
- Slide-type specific analysis
- Pitch deck structure standards
- Review UI components

---

## Standard Pitch Deck Structure

| Slide # | Type | Purpose |
|---------|------|---------|
| 1 | Title | Company name, tagline, contact |
| 2 | Problem | Pain point being solved |
| 3 | Solution | How you solve it |
| 4 | Market | TAM/SAM/SOM |
| 5 | Product | Demo/screenshots |
| 6 | Business Model | How you make money |
| 7 | Traction | Metrics and milestones |
| 8 | Competition | Competitive landscape |
| 9 | Team | Founders and key hires |
| 10 | Financials | Projections and unit economics |
| 11 | Ask | Funding amount and use of funds |
| 12 | Appendix | Supporting materials (optional) |

---

## Implementation Steps

### Step 1: Create Pitch Review Schema

**File:** `lib/db/migrations/011_pitch_reviews.sql`

```sql
-- Pitch deck reviews
CREATE TABLE pitch_reviews (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  document_id UUID NOT NULL REFERENCES documents(id) ON DELETE CASCADE,
  overall_score DECIMAL(5,2) NOT NULL,
  structure_score DECIMAL(5,2) NOT NULL,
  content_score DECIMAL(5,2) NOT NULL,
  design_score DECIMAL(5,2) NOT NULL,
  slides JSONB NOT NULL, -- Array of slide analyses
  missing_sections TEXT[] DEFAULT '{}',
  strengths TEXT[] DEFAULT '{}',
  improvements TEXT[] DEFAULT '{}',
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_pitch_reviews_user ON pitch_reviews(user_id);
CREATE INDEX idx_pitch_reviews_document ON pitch_reviews(document_id);
```

### Step 2: Create Slide Classifier

**File:** `lib/fred/pitch/slide-classifier.ts`

```typescript
type SlideType =
  | 'title'
  | 'problem'
  | 'solution'
  | 'market'
  | 'product'
  | 'business_model'
  | 'traction'
  | 'competition'
  | 'team'
  | 'financials'
  | 'ask'
  | 'appendix'
  | 'unknown';

interface SlideClassification {
  type: SlideType;
  confidence: number;
  reasoning: string;
}
```

Key functions:
- `classifySlide(content: string, pageNumber: number): Promise<SlideClassification>`
- `classifyDeck(slides: Slide[]): Promise<DeckStructure>`

### Step 3: Create Slide Analyzers

**File:** `lib/fred/pitch/analyzers/problem-slide.ts`

Criteria:
- Is the problem clearly stated?
- Is it relatable/emotional?
- Are there supporting stats?
- Is the urgency conveyed?

**File:** `lib/fred/pitch/analyzers/solution-slide.ts`

Criteria:
- Is the solution clearly explained?
- Does it directly address the problem?
- Is it differentiated?
- Is it believable?

**File:** `lib/fred/pitch/analyzers/market-slide.ts`

Criteria:
- Are TAM/SAM/SOM defined?
- Are sources credible?
- Is the math reasonable?
- Is there a clear wedge?

**File:** `lib/fred/pitch/analyzers/traction-slide.ts`

Criteria:
- Are metrics clearly presented?
- Is growth rate highlighted?
- Are milestones notable?
- Is data recent?

**File:** `lib/fred/pitch/analyzers/team-slide.ts`

Criteria:
- Are key members shown?
- Is relevant experience highlighted?
- Are there notable logos/credentials?
- Is the team complete for the stage?

**File:** `lib/fred/pitch/analyzers/ask-slide.ts`

Criteria:
- Is the amount clear?
- Is use of funds specified?
- Is the runway explained?
- Are milestones tied to funding?

### Step 4: Create Pitch Review Engine

**File:** `lib/fred/pitch-review.ts`

```typescript
interface PitchReviewInput {
  documentId: string;
  slides: ExtractedSlide[];
}

interface PitchReview {
  overallScore: number;
  structureScore: number;
  contentScore: number;
  designScore: number;
  slides: SlideAnalysis[];
  missingSections: SlideType[];
  strengths: string[];
  improvements: string[];
}

interface SlideAnalysis {
  pageNumber: number;
  type: SlideType;
  typeConfidence: number;
  score: number;
  feedback: string;
  suggestions: string[];
}
```

Key functions:
- `reviewPitchDeck(input: PitchReviewInput): Promise<PitchReview>`
- `analyzeSlide(slide, type): Promise<SlideAnalysis>`
- `identifyMissingSections(structure): SlideType[]`
- `generateOverallFeedback(review): string`

### Step 5: Create Pitch Review API

**File:** `app/api/fred/pitch-review/route.ts`

```typescript
// POST /api/fred/pitch-review
// - Require Pro tier
// - Accept document ID
// - Run pitch review
// - Store result
// - Return review

// GET /api/fred/pitch-review/[id]
// - Get specific review
```

### Step 6: Create Pitch Review Page

**File:** `app/dashboard/pitch-review/page.tsx`

Layout:
- Document selector (uploaded pitch decks)
- Review trigger button
- Review results display
- Slide navigation

### Step 7: Create Slide Analysis Components

**File:** `components/pitch/slide-viewer.tsx`

Features:
- PDF page preview
- Slide type badge
- Score indicator
- Click to expand

**File:** `components/pitch/slide-analysis-panel.tsx`

Features:
- Slide content summary
- Category-specific feedback
- Improvement suggestions
- Example comparisons

**File:** `components/pitch/deck-overview.tsx`

Features:
- Slide thumbnails grid
- Color-coded scores
- Missing section indicators
- Structure visualization

**File:** `components/pitch/review-summary.tsx`

Features:
- Overall scores
- Top strengths
- Priority improvements
- Comparison to benchmarks

### Step 8: Create Slide Comparison Feature

**File:** `components/pitch/slide-comparison.tsx`

Features:
- Side-by-side with "ideal" example
- Highlight missing elements
- Best practices tips

---

## Scoring Logic

### Structure Score (33%)
```
Full points for:
- All 11 core slides present
- Logical flow/order
- Appropriate slide count (10-15)

Deductions:
- -5 per missing core slide
- -3 for illogical ordering
- -5 if too many slides (>20)
- -5 if too few slides (<8)
```

### Content Score (34%)
```
Per slide analysis:
- Clarity (0-25)
- Completeness (0-25)
- Persuasiveness (0-25)
- Data quality (0-25)

Average across all slides
```

### Design Score (33%)
```
Based on:
- Consistency (fonts, colors)
- Readability (text density)
- Visual hierarchy
- Professional appearance

Note: Limited without visual analysis
```

---

## Testing

- [ ] Slide classification accuracy > 80%
- [ ] Missing sections correctly identified
- [ ] Feedback is specific and actionable
- [ ] Review completes in reasonable time
- [ ] UI displays all slide analyses
- [ ] Pro tier requirement enforced

---

## Verification

- [ ] Upload a sample pitch deck
- [ ] Run pitch review
- [ ] Verify all slides classified
- [ ] Check feedback quality
- [ ] Navigate slide-by-slide
- [ ] Test with various deck formats

---

*Plan file for GSD framework*
