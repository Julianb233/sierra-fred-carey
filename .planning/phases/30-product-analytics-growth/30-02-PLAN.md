# Phase 30-02: Onboarding Checklist Widget + Growth Dashboard

**Phase:** 30 — Product Analytics & Growth
**Plan:** 02 of 2
**Status:** COMPLETE
**Depends on:** 30-01

## Goal

Create a user-facing onboarding checklist widget that guides new users through key activation steps, and enhance the admin analytics dashboard with live PostHog data and conversion funnel visualization.

## Steps

### Step 1: Create onboarding checklist dashboard widget
**Files:** `components/dashboard/onboarding-checklist.tsx`
Build a checklist widget using the existing `use-onboarding-checklist` hook:
- Display 5 tasks with completion checkmarks: Complete onboarding, First chat with FRED, Run Reality Lens, Upload pitch deck, Explore dashboard
- Progress bar showing X/5 completed
- Each incomplete task links to the relevant page
- Dismissable after all complete (localStorage flag)
- Animated completion celebrations (subtle, not distracting)
- Show only for users in their first 7 days

### Step 2: Add checklist widget to dashboard page
**Files:** `app/dashboard/page.tsx`
- Import and render OnboardingChecklist at the top of dashboard
- Only show when user has incomplete checklist items and account age < 7 days
- Collapse/expand toggle

### Step 3: Enhance admin analytics with live PostHog data
**Files:** `app/admin/analytics/page.tsx`
Update the admin analytics dashboard to fetch real data when PostHog is configured:
- If `NEXT_PUBLIC_POSTHOG_KEY` is set, fetch from PostHog API
- If not set, continue showing placeholder data (existing behavior)
- Refresh data every 60 seconds
- Show last-updated timestamp

### Step 4: Add conversion funnel visualization
**Files:** `app/admin/analytics/page.tsx`
Enhance the Funnels tab with real conversion data:
- Signup → Onboarding Complete → First Chat → Feature Used → Upgrade
- Show drop-off percentages between each step
- Use recharts for the funnel chart (already installed)
- Calculate from Supabase tables (profiles, fred_episodic_memory, documents, user_subscriptions)

## Verification

- [ ] Onboarding checklist widget renders on dashboard for new users
- [ ] Checklist tracks 5 activation tasks with progress bar
- [ ] Admin analytics shows live data when PostHog configured
- [ ] Conversion funnel chart renders with drop-off percentages
- [ ] `npx tsc --noEmit` passes
- [ ] `npm run test` passes

## Files Changed

- `components/dashboard/onboarding-checklist.tsx` — new onboarding checklist widget
- `app/dashboard/page.tsx` — added checklist widget to dashboard
- `app/admin/analytics/page.tsx` — enhanced with live PostHog data and funnel visualization
